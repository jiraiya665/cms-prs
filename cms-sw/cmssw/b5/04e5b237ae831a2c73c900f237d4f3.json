{"additions": 880, "auther_ref": "esconsumesCalibTrackerSiStripESProducers", "auther_sha": "a072217f2b7c08f9267fa3ee8bcf8fe928783015", "author": "makortel", "body": "#### PR description:\r\n\r\nThis PR modernizes ESProducers in CalibTracker/SiStripESProducers (as part of #26748) by\r\n* moving contents of the headers to the corresponding source files\r\n* using ESGetToken (except for SiStripBackPlaneCorrectionDepESProducer and SiStripLorentzAngleDepESProducer that have a non-trivial aspect in them and are dealt separately in #27099)\r\n* removing unnecessary `ESHandle.h` includes\r\n* removing `CalibTracker/SiStripESProducers/plugins/stubs` as something looking obsolete\r\n  * this directory has no non-technical changes since its first commit in 2008, and the class name SiStripHashedDetIdESProducer is defined also in `.../interface`\r\n* using `std::make_unique` and range for\r\n* removing unnecessary vector copy in SiStripRegionConnectivity\r\n* removing unused/commented member variables\r\n* removing unnecessary calls to `clear()` right after object construction\r\n* refactoring SiStripHashedDetIdESModule and SiStripHashedDetIdFakeESSource\r\n  * remove SiStripHashedDetIdESProducer base class as an unnecessary layer, it would have also made delivering the `edm::ESConsumesCollector` returned by `setWhatProduced()` to the deriving class complicated\r\n* refactoring SiStripGainSimESProducer and SiStripGainSimESProducer\r\n  * They are currently implemented as instantiations of SiStripGainESProducerTemplate class template, but they share very little template argument dependent code (and the code that was depending on the template arguments is different for the two). It was much easier to use `edm::ESGetToken` by moving most of the shared code to a helper (SiStripGainFactor) and implement the two classes separely.\r\n\r\n\r\n#### PR validation:\r\n\r\nLimited matrix runs, no changes expected.", "branch": "master", "changed_files": 34, "comments": 45, "commits": 14, "created_at": "1559695015", "deletions": 1099, "labels": ["alca-pending", "code-checks-pending", "comparison-pending", "hold", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-pending"], "milestone": "CMSSW_11_0_X", "number": 27098, "release-notes": [], "review_comments": 4, "state": "open", "title": "Modernize ESProducers in CalibTracker/SiStripESProducers", "updated_at": "1561640245", "user": "makortel"}