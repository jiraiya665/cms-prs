{"additions": 484, "auther_ref": "esConsumesGeometryCaloEventSetup", "auther_sha": "d310afd7b004e70b4c3765c41e38d06b8bbbb22f", "author": "makortel", "body": "#### PR description:\r\n\r\nThis PR migrates all ES and ED modules in `Geometry/CaloEventSetup` to EventSetup consumes (#26584).\r\n\r\nIn `CaloGeometryBuilder` I replaced the \"for-switch\" structure in `produceAligned()` with searches done at the constructor. Also now in case of superfluous geometry components the constructor throws an exception instead of issuing LogWarnings.\r\n\r\nThe `CaloGeometryDBEP` required a bit more work because the `CaloGeometryDBEP::produceAligned()` is specialized for various geometry types, and those specializations used additional ESProducts. I added a mechanism (employing class templace specialization as well) to call consumes() to get ESGetTokens for such products.\r\n\r\n#### PR validation:\r\n\r\nLimited matrix runs.", "branch": "master", "changed_files": 24, "comments": 10, "commits": 9, "created_at": "1556556324", "deletions": 477, "labels": ["code-checks-approved", "comparison-available", "db-pending", "geometry-approved", "orp-pending", "pending-signatures", "tests-approved", "upgrade-approved"], "milestone": "CMSSW_10_6_X", "number": 26571, "release-notes": [], "review_comments": 7, "state": "open", "title": "Migrate Geometry/CaloEventSetup to EventSetup consumes", "updated_at": "1556909560", "user": "makortel"}