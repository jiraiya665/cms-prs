{"additions": 1829, "auther_ref": "dqm-new-globaledanalyzer", "auther_sha": "fcd2d6c0c365b884bc6e3734f395555d7f9be47e", "author": "schneiml", "body": "#### PR description:\r\nThis PR imports more features from the \"new DQMStore\" project:\r\n\r\n- A new `DQMEDAnalyzer` base class, now based on `EDProducer`, like all the other DQM module base classes. This is to make sure that everything that _produces_ DQM histograms actually is known to the EDM framework as a _Producer_, even if the data still flows through the `DQMStore`; otherwise, we have no guarantees that modules will run in the correct order.\r\n\r\n- The `DQMServices/Demo` package, which contains some simple modules of each class and configuration to exercise the DQM framework, with no dependence on \"real\" CMSSW configurations. This replaces the old DQM examples code, which used to show types of interaction with DQM that are not supported any more (much of it was deleted in previous PRs). The demo code still relies on unusual features, since it was designed to test behaviors that need to be respected by a EDM Product driven DQM as prototyped in the \"new DQMStore\" branch; since the current DQM is not fully based on products, the behavior is not complete for now. \r\n\r\n- Some cleanup removing unused declarations in `DQMStore.h`, including `fastmatch`. The previous cleanup PRs left these unused.\r\n\r\nThis PR includes  #28379, which in turn contains other PRs. It is not strictly required for this PR to work, but the new `DQMEDHarvester` introduced there is needed for the `Demo` package and some of the cleanup requires the other, not-yet-merged PRs. I will rebase this once enough of the other PRs are merged.\r\n\r\nThis PR is not really polished yet, and more a base for discussion than something to merge.\r\n\r\n#### PR validation:\r\n\r\nWorkflow 10024.0, which runs a few `DQMGlobalEDAnalyzer`s on validation sequences, runs; I have not checked the output yet.\r\n\r\nThe challenge with this PR is that `DQMGlobalEDAnalyzer`s are primarily used in HLT, and I am not sure how to test them there. For now, HLT configs should reliably crash due to the incorrect module type used in the auto-generated configs; I am not sure how to change this part of the code. Also `FastTimerService` and `ThroughputService` need to be checked. Let's see if any of that is picked up in the PR tests, else I'll have to defer that to the HLT experts.", "branch": "master", "changed_files": 312, "comments": 9, "commits": 55, "created_at": "1573830474", "deletions": 4035, "labels": ["alca-pending", "analysis-pending", "code-checks-approved", "comparison-available", "dqm-pending", "generators-pending", "hlt-pending", "l1-pending", "new-package-pending", "orp-pending", "pending-signatures", "tests-approved", "xpog-pending"], "milestone": "CMSSW_11_0_X", "number": 28407, "release-notes": [], "review_comments": 0, "state": "open", "title": "DQM: new DQMGlobalEDAnalyzer", "updated_at": "1574099665", "user": "schneiml"}