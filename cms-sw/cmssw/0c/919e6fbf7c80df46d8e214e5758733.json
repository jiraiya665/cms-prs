{"additions": 282, "auther_ref": "FlaggedPtr", "auther_sha": "f66bc20e00d524583cc28dee38a7ee9a5bf39ba8", "author": "guitargeek", "body": "#### PR description:\r\n\r\nOne of the confusing aspects about the particle flow code are these intricate nested std:: types, which causes things in the code like `->first.second->` and you have no idea what you are dealing with anymore. It is not easy to improve this in one PR, therefore I propose just a little change to slightly improve the situation in PFEgammaAlgo.\r\n\r\nThe proposal is to replace the `std::pair<const T*,bool>` types with a new class `FlaggedPtr<T>`, which behaves just like a (smart) pointer wrapping the  `const T*` plus the possibility to set the flag. In particular, the `->` operator of that new class simplifies the `PFEgammaAlgo` code quite a bit.\r\n\r\nI think I should not do more in one PR, but I hope this is the right way to the improve the PFEgamma code with new types. Maybe this could be even extended in the future to a `PfPtr` with an \"index\" (of the element in the block), a \"type\", and the flag. The other advantage is that if the flagging is not needed anymore, the `FlaggedPtr` can be replaced easily with a raw or smart pointer.\r\n\r\n#### PR validation:\r\n\r\nCMSSW compiles and matrix tests pass.", "branch": "master", "changed_files": 3, "comments": 8, "commits": 1, "created_at": "1556385559", "deletions": 279, "labels": ["code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-approved"], "milestone": "CMSSW_10_6_X", "number": 26559, "release-notes": [], "review_comments": 0, "state": "open", "title": "PFEgammaAlgo - New FlaggedPtr class", "updated_at": "1556430494", "user": "guitargeek"}