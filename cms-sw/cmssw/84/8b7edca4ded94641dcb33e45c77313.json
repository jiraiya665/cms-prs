{"additions": 9, "auther_ref": "solid_type-name-fix-11_1", "auther_sha": "3f87ce2a5404d8d95819d3594e1ff5c75cc49917", "author": "cvuosalo", "body": "#### PR description:\r\n\r\nA test script for reading geometry XML files terminated with a segmentation fault when it created an incomplete `dd4hep::Solid` object and then tried to output the `Solid::name()` in a debug statement. This `dd4hep::Solid::name()` method tries to de-reference a null pointer, causing a segfault, when the object is invalid.\r\nTo fix this problem, a call to `Solid::isValid()` is added to ensure that the object is valid before trying to get its name.\r\nThe DD4hep team will be changing the behavior of `Solid::name()` to raising an exception instead of segfaulting in the case of an invalid object, but the approach in this PR of checking for validity is our preferred solution to the problem\r\n\r\n#### PR validation:\r\n\r\nThe script with the segfault was tested with this fix to ensure that the bug is gone. This fix should not change any standard workflows.\r\n\r\nNo backport needed.", "branch": "master", "changed_files": 1, "comments": 3, "commits": 1, "created_at": "1576260750", "deletions": 3, "labels": ["code-checks-approved", "comparison-pending", "geometry-pending", "orp-pending", "pending-signatures", "tests-pending"], "milestone": "CMSSW_11_1_X", "number": 28623, "release-notes": [], "review_comments": 0, "state": "open", "title": "Prevent segfault if dd4hep::Solid is not valid", "updated_at": "1576261275", "user": "cvuosalo"}