{"additions": 282, "auther_ref": "ticl_tracksterEnergyID_11_0_0_pre6", "auther_sha": "c74b9eae98247bfa6f26db272b40b119fadf58b8", "author": "riga", "body": "#### PR description\r\n\r\nThis PR adds energy regression and particle identification for trackster objects to the TrackstersProducer of the RecoHGCal/TICL package. Both the regressed energy and ID probabilities for different types of particles are the outputs of a single neural network, stored as a TensorFlow model. The first version of this model is proposed in\r\n\r\ncms-data/RecoHGCal-TICL#1.\r\n\r\nThis PR is a clean version of #27634. The changes since the last review comments can be found [here](https://github.com/riga/cmssw/compare/c75d2de...e9fb179).\r\n\r\n#### Performance\r\n\r\nTested with workflow 20634.0 (`TTbar_14TeV_TuneCUETP8M1_2026D41PU` with 200 PU).\r\n\r\nThe CPU runtime for inference scales linearly with the batch size, i.e., the number of tracksters, as expected for the `no_threads` TensorFlow session. The average runtime per trackster is ~0.6 ms (see slope below). The time includes trackster selection, preprocessing and filling of input data, the actual inference, and handling of results (== `PatternRecognitionbyCA::energyRegressionAndID`).\r\n\r\nThe memory consumption, obtained using the `SimpleMemoryCheck` with and without running the regression and ID, is 178 MB for a maximum batch size of ~750 tracksters.\r\n\r\n![runtime](https://www.dropbox.com/s/hjivr1l4384lg9q/cpu_perf_27917.png?raw=1)\r\n\r\n\r\n", "branch": "master", "changed_files": 9, "comments": 31, "commits": 4, "created_at": "1567429709", "deletions": 18, "labels": ["code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-pending", "requires-external", "tests-approved", "upgrade-pending"], "milestone": "CMSSW_11_0_X", "number": 27917, "release-notes": [], "review_comments": 21, "state": "open", "title": "Add energy regression and particle identification to RecoHGCal/TICL (reopened)", "updated_at": "1568838972", "user": "riga"}