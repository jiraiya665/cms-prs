{"additions": 1217, "auther_ref": "extend_rechittools", "auther_sha": "9e3fd338be769e36e46bf0161f4bb64a378a9f81", "author": "clelange", "body": "- add bhOffset_,\r\n- fix getLayerWithOffset for new geometry,\r\n- add firstLayerBH(), lastLayerBH()\r\n\r\n#### PR description:\r\n\r\nThis PR introduces some important functionality and fixes in/to the RecHitTools required to eventually remove magic numbers in other places of the HGCal reconstruction code.\r\nRelated to https://github.com/cms-sw/cmssw/issues/26225\r\n\r\n#### PR validation:\r\n\r\nRan some test code with D41 geometry and got the following output:\r\n\r\n```text\r\nbhOffset_: 36\r\nEE layers: 28\r\nFH layers: 24\r\nBH layers: 16\r\nfirst EE layer: 1\r\nfirst FH layer: 1\r\nfirst BH layer: 9\r\nEE layer at z = 10000: 28\r\nFH layer at z = 10000: 24\r\nBH layer at z = 10000: 24\r\nlastLayerEE: 28\r\nlastLayerFH: 52\r\nlastLayerBH: 52\r\nfirstLayerBH: 37\r\n```\r\n\r\nThere are some discrepancies that need to be understood, which, however, seem to be in the geometry, underlining the importance of this PR for geometry validation.\r\nFor example: D41 should have 50 HGCal layers only, 22 FH layers, 14 BH layers.\r\nAfter talking to @bsunanda , the error might also be in my setup and there are no issues in D41 geoemtry. We will investigate, but that's independent of the PR.", "branch": "master", "changed_files": 12, "comments": 49, "commits": 9, "created_at": "1559827666", "deletions": 1259, "labels": ["code-checks-pending", "comparison-pending", "hold", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-pending", "upgrade-pending"], "milestone": "CMSSW_11_0_X", "number": 27128, "release-notes": [], "review_comments": 1, "state": "open", "title": "Extend and fix RecHitTools", "updated_at": "1560262788", "user": "clelange"}