{"additions": 1209, "auther_ref": "dqm-restructure-qtests", "auther_sha": "74170b48bf7c11740cb6d95ecd57aa09b8cba9b8", "author": "schneiml", "body": "#### PR description:\r\n\r\nThis is the second, and main, PR replacing #28316. It is based on #28375 (functionally required for this to work, separated to reduce the amount of changes to review), and  #28247 (massive conflicts between the two, and  #28247 will probably go in first).\r\n\r\nThis PR covers the reorganization of the DQM QualityTest functionality in CMSSW:\r\n- `QualityTester` becomes a plugin in `DQMServices/Components`, handling all QTest things.\r\n- The XML parsing is now done with `boost::property_tree` rather than `xerces`. Much less code, however more strict (some of the QTest configuration XML used in production was malformed!) and probably worse error reporting.\r\n- The QTest implementation remain in `DQMServices/Core` `QTest.[h|cc]`. However, the *only* place that uses them now is `QualityTester`.\r\n- `QReport`s (results) remain available via the `MonitorElement`, but don't contain pointers to `QCriterion`s (the actual tests) any more.\r\n- `QualityTester` is now a `DQMEDHarvester`, rather than a legacy module.\r\n- The ordering `QualityTester` vs. other harvesters is complicated. Some of the old behaviour was accidental and may be impossible to reproduce, since nothing is guaranteed by the EDM framework with respect to ordering in `endJob` (see #28354). In practice, some of SiStrip Certification output is broken now and there is no way to fix it, but it could also break spontaneously in production and there would be no way to fix it.\r\n\r\nA few changes hitchhike this PR due to the history in #28316 and other requirements:\r\n- The `DQMEDHarvester` base class is updated to the `new DQMStore` version, since some features (`dqmEndRun`, proper dependencies) are needed here.\r\n- `DQMGenericClient` is moved and restructured, to prepare for the removal of the `ClientConfig` package.\r\n- Some more random changes remove dependencies on `ClientConfig`. However, the package remains present and the Tracker modules relying on `DQMParserBase` are unaffected.\r\n\r\n#### PR validation:\r\nCompiles. Extensive tests where done in #28316, and the results should apply here as well, but the rebase was a bumpy ride and might have broken things.\r\n\r\nThere is a known change related to SiStrip Certification DQM output, where we need to decide if we halt this development to not break a feature that relies on unsupported behavior in the first place. In addition, there are known changes due to #28247 being included here.\r\n\r\nThe large amount of signatures and files touched is due to the PRs included below, things should clear up once they get merged.\r\n\r\n\r\n", "branch": "master", "changed_files": 289, "comments": 9, "commits": 44, "created_at": "1573555298", "deletions": 3757, "labels": ["alca-pending", "analysis-pending", "code-checks-approved", "comparison-pending", "dqm-pending", "generators-pending", "hlt-pending", "l1-pending", "orp-pending", "pending-signatures", "tests-approved", "xpog-pending"], "milestone": "CMSSW_11_0_X", "number": 28379, "release-notes": [], "review_comments": 0, "state": "open", "title": "DQM: Restructure QTests (v2)", "updated_at": "1573572735", "user": "schneiml"}