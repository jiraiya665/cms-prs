{"additions": 282, "auther_ref": "stripmergedbadcomponents_removedqmstorefromesproducers", "auther_sha": "3c37d24e2e5d699ce64d8b8d556eb7d44ef7e51b", "author": "pieterdavid", "body": "#### PR description:\r\n\r\nSiStripBadModuleFedErrESSource was directly accessing the DQMStore to build a SiStripQuality object (from a histogram with FED errors) - as pointed out by @makortel this should be avoided since it is not guaranteed to continue working with multi-threaded DQM and EventSetup.\r\nSince the \"merged\" SiStripQuality with FED error contribution is only used in standalone cases (e.g. to make tracker maps of the number of bad components) over a single run, and the different bad component sources are never more granular than per-run (unless I missed something), the easiest solution seemed to be to derive and merge the FED error SiStripQuality only from the dqmEndJob method (caching the required event setup  products) of SiStripBadComponentInfo and SiStripQualityStatistics.\r\n\r\n#### PR validation:\r\n\r\nCompiles, and unit tests run. @suchandradutta could you please have a look and test some of the bad component workflows that may be affected by these changes?", "branch": "master", "changed_files": 16, "comments": 37, "commits": 5, "created_at": "1563535088", "deletions": 336, "labels": ["alca-pending", "code-checks-approved", "comparison-pending", "dqm-approved", "orp-pending", "pending-signatures", "tests-started"], "milestone": "CMSSW_11_0_X", "number": 27565, "release-notes": [], "review_comments": 0, "state": "open", "title": "Remove SiStripBadModuleFedErrESSource", "updated_at": "1563806248", "user": "pieterdavid"}